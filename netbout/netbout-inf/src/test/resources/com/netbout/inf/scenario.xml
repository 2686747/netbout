<?xml version="1.0"?>
<!-- this file is used in InifityTest -->
<scenario>
    <scene>
        <see notice="com.netbout.inf.notices.MessagePostedNotice">
            <message.number>50</message.number>
            <bout.participants>urn:test:man1, urn:test:man3</bout.participants>
            <bout.number>55</bout.number>
        </see>
        <see notice="com.netbout.inf.notices.MessagePostedNotice">
            <message.number>45</message.number>
            <bout.participants>urn:test:somebody-else</bout.participants>
            <bout.number>120</bout.number>
        </see>
        <see notice="com.netbout.inf.notices.MessagePostedNotice">
            <message.number>40</message.number>
            <bout.participants>urn:test:man2, urn:test:man1</bout.participants>
            <bout.number>54</bout.number>
        </see>
        <see notice="com.netbout.inf.notices.MessagePostedNotice">
            <message.number>35</message.number>
            <bout.participants>urn:test:somebody-else</bout.participants>
            <bout.number>110</bout.number>
        </see>
        <see notice="com.netbout.inf.notices.MessagePostedNotice">
            <message.number>30</message.number>
            <bout.participants>urn:test:man3, urn:test:man2</bout.participants>
            <bout.number>53</bout.number>
        </see>
        <see notice="com.netbout.inf.notices.MessagePostedNotice">
            <message.number>20</message.number>
            <bout.participants>urn:test:somebody-else</bout.participants>
            <bout.number>100</bout.number>
        </see>
        <query>
            <predicate>
                (and
                    (not (talks-with 'urn:test:man1'))
                    (not (talks-with 'urn:test:man2'))
                )
            </predicate>
            <messages>45, 35, 20</messages>
        </query>
    </scene>
    <scene>
        <see notice="com.netbout.inf.notices.MessagePostedNotice">
            <message.number>63</message.number>
            <message.text>How are you doing, dude?</message.text>
            <message.author>urn:test:Somebody</message.author>
            <bout.participants>urn:test:Somebody</bout.participants>
        </see>
        <query>
            <predicate>
                (and
                    (or
                        (matches 'dude')
                        (matches 'you')
                    )
                    (bundled)
                    (from 0)
                    (limit 1)
                )
            </predicate>
            <messages>63</messages>
        </query>
    </scene>
    <scene>
        <see notice="com.netbout.inf.notices.MessagePostedNotice">
            <message.number>257</message.number>
            <message.text>First message</message.text>
            <bout.participants>urn:test:Somebody</bout.participants>
        </see>
        <see notice="com.netbout.inf.notices.MessagePostedNotice">
            <message.number>255</message.number>
            <message.text>Second message</message.text>
            <bout.participants>urn:test:Somebody</bout.participants>
        </see>
        <query>
            <predicate>(and (or (matches 'first') (matches 'second')) (pos 1))</predicate>
            <messages>255</messages>
        </query>
    </scene>
    <scene>
        <see notice="com.netbout.inf.notices.MessagePostedNotice">
            <bout.number>1023</bout.number>
            <bout.participants>urn:test:Somebody</bout.participants>
        </see>
        <see notice="com.netbout.inf.notices.MessagePostedNotice">
            <bout.number>1022</bout.number>
            <bout.participants>urn:test:Somebody</bout.participants>
        </see>
        <see notice="com.netbout.inf.notices.MessagePostedNotice">
            <message.number>65</message.number>
            <message.text>How are you doing, dude?</message.text>
            <message.author>urn:test:Somebody</message.author>
            <bout.number>5656</bout.number>
            <bout.participants>urn:test:Somebody</bout.participants>
        </see>
        <query>
            <predicate>(and (equal $bout.number 5656) (equal $number 65) (pos 0))</predicate>
            <messages>65</messages>
        </query>
    </scene>
    <scene>
        <see notice="com.netbout.inf.notices.MessagePostedNotice">
            <message.number>257</message.number>
            <bout.participants>urn:test:Somebody</bout.participants>
            <bout.number>8881</bout.number>
        </see>
        <see notice="com.netbout.inf.notices.MessagePostedNotice">
            <message.number>256</message.number>
            <bout.participants>urn:test:Somebody</bout.participants>
            <bout.number>8881</bout.number>
        </see>
        <see notice="com.netbout.inf.notices.MessagePostedNotice">
            <message.number>255</message.number>
            <bout.participants>urn:test:Somebody</bout.participants>
            <bout.number>8881</bout.number>
        </see>
        <query>
            <predicate>(and (talks-with 'urn:test:Somebody') (limit 2) (unique $bout.number))</predicate>
            <messages>257</messages>
        </query>
    </scene>
    <scene>
        <see notice="com.netbout.inf.notices.MessagePostedNotice">
            <message.number>1025</message.number>
            <bout.participants>urn:test:william</bout.participants>
        </see>
        <see notice="com.netbout.inf.notices.MessagePostedNotice">
            <message.number>1024</message.number>
            <bout.participants>urn:test:william</bout.participants>
        </see>
        <see notice="com.netbout.inf.notices.MessagePostedNotice">
            <message.number>63</message.number>
            <bout.participants>urn:test:william</bout.participants>
        </see>
        <see notice="com.netbout.inf.notices.MessagePostedNotice">
            <message.number>62</message.number>
            <bout.participants>urn:test:william</bout.participants>
        </see>
        <query>
            <predicate>(and (talks-with 'urn:test:william') (from 2) (limit 1))</predicate>
            <messages>63</messages>
        </query>
    </scene>
    <scene>
        <see notice="com.netbout.inf.notices.MessagePostedNotice">
            <message.number>65536</message.number>
            <bout.participants>urn:test:dude</bout.participants>
            <bout.number>550</bout.number>
        </see>
        <see notice="com.netbout.inf.notices.MessagePostedNotice">
            <message.number>1</message.number>
            <bout.participants>urn:test:dude, urn:test:jeffrey</bout.participants>
            <bout.number>551</bout.number>
        </see>
        <query>
            <predicate>
                (and
                    (talks-with 'urn:test:dude')
                    (and
                        (and
                            (or
                                (matches '' $text)
                                (matches '' $bout.title)
                                (matches '' $author.alias)
                            )
                            (bundled)
                        )
                        (from 0)
                    )
                    (unique $bout.number)
                )
            </predicate>
            <messages>65536, 1</messages>
        </query>
    </scene>
    <scene>
        <see notice="com.netbout.inf.notices.MessagePostedNotice">
            <message.number>59000</message.number>
            <bout.participants>urn:test:billy, urn:test:somebody-1</bout.participants>
            <bout.number>4009</bout.number>
        </see>
        <see notice="com.netbout.inf.notices.MessagePostedNotice">
            <message.number>58990</message.number>
            <bout.participants>urn:test:billy, urn:test:somebody-1</bout.participants>
            <bout.number>4009</bout.number>
        </see>
        <see notice="com.netbout.inf.notices.MessagePostedNotice">
            <message.number>58985</message.number>
            <bout.participants>urn:test:billy, urn:test:somebody-55</bout.participants>
            <bout.number>4008</bout.number>
        </see>
        <see notice="com.netbout.inf.notices.MessagePostedNotice">
            <message.number>58980</message.number>
            <bout.participants>urn:test:billy, urn:test:somebody-1</bout.participants>
            <bout.number>4009</bout.number>
        </see>
        <see notice="com.netbout.inf.notices.MessagePostedNotice">
            <message.number>58000</message.number>
            <bout.participants>urn:test:billy, urn:test:somebody-1</bout.participants>
            <bout.number>4007</bout.number>
        </see>
        <see notice="com.netbout.inf.notices.MessagePostedNotice">
            <message.number>57000</message.number>
            <bout.participants>urn:test:billy, urn:test:somebody-1</bout.participants>
            <bout.number>4006</bout.number>
        </see>
        <see notice="com.netbout.inf.notices.MessagePostedNotice">
            <message.number>56999</message.number>
            <bout.participants>urn:test:billy, urn:test:somebody-2</bout.participants>
            <bout.number>4005</bout.number>
        </see>
        <see notice="com.netbout.inf.notices.MessagePostedNotice">
            <message.number>4</message.number>
            <bout.participants>urn:test:billy, urn:test:somebody-3</bout.participants>
            <bout.number>4001</bout.number>
        </see>
        <see notice="com.netbout.inf.notices.MessagePostedNotice">
            <message.number>1</message.number>
            <bout.participants>urn:test:billy, urn:test:somebody-3</bout.participants>
            <bout.number>4001</bout.number>
        </see>
        <query>
            <predicate>
                (and (talks-with 'urn:test:billy') (bundled) (unique $bout.number))
            </predicate>
            <messages>59000, 58985, 56999, 4</messages>
        </query>
    </scene>
    <scene>
        <see notice="com.netbout.inf.notices.MessagePostedNotice">
            <message.number>456540</message.number>
            <bout.participants>urn:test:richard</bout.participants>
        </see>
        <query>
            <predicate>(and (equal $number 456540) (from 0))</predicate>
            <messages>456540</messages>
        </query>
    </scene>
</scenario>
